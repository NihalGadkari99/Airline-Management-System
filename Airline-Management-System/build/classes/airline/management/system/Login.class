package airline.management.system;

import java.awt.Button;
import java.awt.Color;
import java.awt.Component;
import java.awt.Font;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Label;
import java.awt.TextField;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.ResultSet;
import javax.swing.JFrame;
import javax.swing.JOptionPane;

public class Login extends JFrame implements ActionListener {
    TextField t1;
    TextField t2;
    Label l1;
    Label l2;
    Button b2;
    Button b3;
    Button b4;
    GridBagLayout gbl;
    GridBagConstraints gbc;
    Font f1;
    Font f2;

    public Login() {
        super("Login");
        this.setBackground(Color.WHITE);
        this.f1 = new Font("TimesRoman", 1, 20);
        this.f2 = new Font("TimesRoman", 1, 15);
        this.gbl = new GridBagLayout();
        this.gbc = new GridBagConstraints();
        this.setLayout(this.gbl);
        this.l1 = new Label("Username");
        this.l1.setFont(this.f1);
        this.l2 = new Label("Password");
        this.l2.setFont(this.f1);
        this.t1 = new TextField(15);
        this.t2 = new TextField(15);
        this.t2.setEchoChar('*');
        this.b2 = new Button("Reset");
        this.b2.setFont(this.f2);
        this.b3 = new Button("Submit");
        this.b3.setFont(this.f2);
        this.b4 = new Button("Close");
        this.b4.setFont(this.f2);
        this.gbc.gridx = 0;
        this.gbc.gridy = 0;
        this.gbl.setConstraints(this.l1, this.gbc);
        this.add(this.l1);
        this.gbc.gridx = 2;
        this.gbc.gridy = 0;
        this.gbl.setConstraints(this.t1, this.gbc);
        this.add(this.t1);
        this.gbc.gridx = 0;
        this.gbc.gridy = 2;
        this.gbl.setConstraints(this.l2, this.gbc);
        this.add(this.l2);
        this.gbc.gridx = 2;
        this.gbc.gridy = 2;
        this.gbl.setConstraints(this.t2, this.gbc);
        this.add(this.t2);
        this.gbc.gridx = 0;
        this.gbc.gridy = 8;
        this.gbl.setConstraints(this.b2, this.gbc);
        this.add(this.b2);
        this.gbc.gridx = 2;
        this.gbc.gridy = 8;
        this.gbl.setConstraints(this.b3, this.gbc);
        this.add(this.b3);
        this.gbc.gridx = 4;
        this.gbc.gridy = 8;
        this.gbl.setConstraints(this.b4, this.gbc);
        this.add(this.b4);
        this.b2.addActionListener(this);
        this.b3.addActionListener(this);
        this.b4.addActionListener(this);
        this.setVisible(true);
        this.setSize(400, 250);
        this.setLocation(400, 200);
    }

    public void actionPerformed(ActionEvent ae) {
        if (ae.getSource() == this.b2) {
            this.t1.setText("");
            this.t2.setText("");
        }

        if (ae.getSource() == this.b4) {
            System.exit(0);
        }

        if (ae.getSource() == this.b3) {
            try {
                conn c1 = new conn();
                String s1 = this.t1.getText();
                String s2 = this.t2.getText();
                String str = "select * from login where username = '" + s1 + "' and password = '" + s2 + "'";
                ResultSet rs = c1.s.executeQuery(str);
                if (rs.next()) {
                    new Mainframe();
                    this.setVisible(false);
                } else {
                    JOptionPane.showMessageDialog((Component)null, "Invalid Login");
                    this.setVisible(false);
                }
            } catch (Exception var7) {
            }
        }

    }

    public static void main(String[] args) {
        new Login();
    }
}
